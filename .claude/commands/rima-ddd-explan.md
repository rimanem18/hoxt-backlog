# rima-ddd-explan

## 目的
エリック・エヴァンスのドメイン駆動設計の原則と、ロバート・C・マーチンのクリーンアーキテクチャのガイドラインを、これらに詳しくないユーザーにもわかるように説明できる解説文書を生成する。

## 前提条件
- `docs/spec/{要件名}-requirements.md` の要件定義書が存在する
- `docs/design/{要件名}/` に設計文書が存在する

## 実行内容

1. **要件の分析**

- 要件定義書を読み込む

2. **設計文書の分析**

- `docs/design/{要件名}/architecture.md` を確認
- `docs/design/{要件名}/database-schema.sql` を確認
- `docs/design/{要件名}/api-endpoints.md` を確認
- `docs/design/{要件名}/interfaces.ts` を確認
- `docs/design/{要件名}/dataflow.md` を確認
   
 3. **業務目的・関係者・手順・価値に置き換え**

可能な限り技術用語を業務の動作や関係者に置き換え、専門知識がない人でも10秒で概要を理解できる表現にする:

- 設計書の目的を探す
- 関係する登場人物や部門を洗い出す
- データや処理を「動作」に変える
- 処理の流れをフロー化

4. **ファイル作成** 

それぞれのディレクトリ・ファイルで実装すべきメソッドを解説しながら説明する

- `docs/explan/{要件名}/ddd-explan.md` として保存。フォルダがない場合は新規作成する。
- **必須**: クラスやメソッドの Doc には What を記載
- **必須**: クラスやメソッドのインラインには Why を記載
- **推奨**: やりがちなミスや勘違いを都度添える
- **推奨**: 難しい用語は一度だけ簡単に説明する
- **任意**: 比喩や例えを使う
- **非推奨**: メソッドの内部の処理を詳細に記載
- **禁止**: メソッドの内部の処理をすべて記載（業務視点からの理解を阻害するため）

## 出力フォーマット例

````markdown
# {要件名} の業務視点解説
## 1. [システムの業務目的と価値](#システムの業務目的と価値)
## 2. [業務の関係者と役割](#業務の関係者と役割)  
## 3. [業務手順とフロー](#業務手順とフロー)
## 4. [DDDでの考え方](#DDDでの考え方)
## 5. [層別実装解説](#層別実装解説)
## 6. [実装の進め方](#実装の進め方)
````

## 忘れないでください
ユーザーは DDD や クリーンアーキテクチャの初学者です。

ユーザーが自分自身で実装できるように、かつ他人に説明できるくらいの理解度に到達できる文書の作成をすることがあなたの使命です。
