---
description: 要件名と機能名を渡し、実装されたコードの理解を促進するための解説文書を作成する。
---

与えられた要件名・TASK-ID をもとに、**ジュニアエンジニアがコードを理解し、他者に説明できるレベル**の解説文書を作成してください。  
対象読者は、オンボーディングしたばかりの初学者エンジニアです。
文章は「自分が後輩に説明している」と仮定し、平易で分かりやすく、段階的に理解できるようにしてください。

## 実行内容

### 1. 要件の分析

- 要件定義書を読み込み、今回の機能が「何を解決するものか」を簡潔に整理する。

### 2. 設計文書の確認

次の設計資料を確認し、コードの背景を把握する:

- `docs/design/{要件名}/architecture.md`
- `docs/design/{要件名}/database-schema.sql`
- `docs/design/{要件名}/api-endpoints.md`
- `docs/design/{要件名}/interfaces.ts`
- `docs/design/{要件名}/dataflow.md`

### 3. 実装コードの把握

- `docs/tasks/{要件名}-tasks.md` を確認し、対象 TASK を特定する。
- `{TASK-ID}` に紐づく実装ファイルを追跡し、コード全体の構造を理解する。

### 4. 解説文書の作成

出力ファイル:

- `docs/explan/{要件名}/{TASK-ID}-code-explan.md`
- フォルダがなければ新規作成する。

解説文書の要件:

- **必須**: クラスや関数の呼び出し関係を **mermaid 記法** で図示する。
- **必須**: 「どのファイルがどの役割を果たしているか」を明確に説明する。
- **推奨**: 初学者がつまずきやすい誤解やミスを都度指摘する。
- **推奨**: 専門用語は最初に出てきた際に一度だけ簡単に説明する。
- **任意**: 比喩や実生活の例を交えてわかりやすくする。
- **禁止**: メソッド内部の処理を逐一書き出すこと。必要以上に詳細化しない。

## 文体・出力品質の指針

- 難しい言葉は避け、できるだけ「会話調に近い説明文」で書く。
- 読み手が「自分でも説明できそう」と感じる文章を目指す。
- 各セクションごとに見出しをつけて構造化する。
- 長文よりも段階的で理解の流れが追いやすい形にする。
- 「なぜこの設計や実装になっているか」という背景も補足する。
