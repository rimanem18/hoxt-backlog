---
description: 要件名を受け取り、要件定義や技術設計を軽量化します。
---

要件や設計の軽量化判断基準を以下に示します。要件名が渡されなかった場合は自己判断せず、指示を仰いでください。

- use serena MCP
- use codex MCP

## 前提条件
- 要件定義書 `docs/spec/{要件名}-requirements.md` が存在する
- 技術設計 `docs/design/{要件名}/*` が存在する
- タスク `docs/tasks/{要件名}-tasks.md` が存在する

## 実行内容
最も重視すべき判断基準は「最低限かつ本番運用が可能なプロダクションレベル」です。工数に見合わない品質向上は求めないようにします。

### NFR

1. 品質保証系の中でも必須か補助か
  これがないとシステムが危険/使えないというものは残す。なくても動くが便利・安心になるというものは削除または緩和する。

2. 致命的リスクと関連するか
  削ったときに 情報漏洩や大障害につながるなら残す。  
  削ったときに ちょっと遅い、不便、監査しにくい程度なら削除または緩和する。

3. 初期ユーザー規模とのギャップ
  高負荷や長期運用を前提とした要件は過剰。

4. 後から付け足せるか
  - 後付けが容易なものは削るまたは緩和。
    - 監査ログの保存期間
    - パフォーマンスの目標値
    - SLA（99.9%など）
  - 後付けが難しいものは残す。
    - 認証・認可の仕組み
    - データ暗号化ポリシー
    - インフラの構成原理（シングルAZかマルチAZか）

### EDGE
レアケースの中でも発生しやすいもののみにしてください。レアケースの中でも発生率が低いものは削除してください。

### REQ
NFR, EDGE を修正したあとに齟齬が生まれた場合、調整してください。

### 概要とストーリー、受け入れ基準
REQ, NFR, EDGE を調整したあとに齟齬が生まれた場合、調整してください。

## レビュー
変更を終えたら、要件定義・技術設計・タスクに関して、既存実装も踏まえたレビューを codex MCP に依頼してください。
すでに実装が済んでいて、タスクに含める必要のないものがないかもチェックしてもらい、不要なタスクが見つかった場合は削除してください。
