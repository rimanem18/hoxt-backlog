---
description: git add & git commit をします。
---

## 事前確認

- ステージング済の内容を確認します。
- `git diff` をおこない、直前との差を確認します。
- ブランチ名に含まれる issue 番号を確認します。（issue 番号らしきものが見当たらない場合、ユーザーに指示を仰いでください）

## 実行内容

### コミット粒度の検討
- 一つの同じコミットにふくめるべきかどうか検討します。あまりにも乖離する内容が変更にふくまれる場合、別のコミットとして `git add` することを検討してください。
  - コードの変更に伴って添えられるメモは、同一の一つのコミットとしてふくめても OK です。
- 必要に応じて、ステージング済の内容をステージングし直すことも検討してください。

### ステージングとコミットの実施
- 適切なプレフィックスが割り当てられる粒度で `git add` をおこないます。
- 下記セクションにしたがったコミットメッセージを添えて `git commit` をします。

## コミットメッセージ
プレフィックスをつけてください。それに伴い、コミットの粒度を細かくすることを意識してください:

- feat: 新しい機能
- fix: バグの修正
- docs: ドキュメントのみの変更
  - `.claude/commands/` 配下の Markdown はドキュメントとしては扱わず、「カスタムスラッシュコマンド」という機能ととらえてください。（つまり、docs プレフィックスではなく、feat, fix などが該当します）
- style: 空白、フォーマット、セミコロン追加など
- refactor: 仕様に影響がないコード改善(リファクタ)
- perf: パフォーマンス向上関連
- test: テスト関連
- chore: ビルド、補助ツール、ライブラリ関連

理由を記載してください:

- OK: feat: ○○なため、hoge を追加。
- NG: feat: hoge を追加。

## コミットメッセージフォーマット例
```
refactor: セキュリティ・パフォーマンス・品質向上のためにリファクタリング #{issue 番号}

- オープンリダイレクト脆弱性の修正
- URL検証前処理最適化でパフォーマンス向上
- 冗長なAPI呼び出し削除でI/O効率化
- 責務分離明確化
```
