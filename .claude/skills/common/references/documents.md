# ドキュメント記述ガイドライン

- **禁止**: ダミー機密情報のハードコード
  - ダミートークンなどであっても正しい形式に則って記述せず、省略することで示す（`eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...`）

## mermaid で図示する際の注意事項

### クラス図（classDiagram）の記法ルール

これらのルールに従うことで、mermaidクラス図のパースエラーを防ぐ：

- **必須**: **クラス名・プロパティ名・メソッド名は英数字のみ使用
- **推奨**: 複雑なジェネリクスを単純な型名に置き換え
- **推奨**: Union Typesを意味のある型名に変換
- **推奨**: 関係線は単純な記法を使用
  - `-->` 推奨
  - `||--o` や `||--||` などの複雑な記法は避ける
- **非推奨**: ドット記法 object.method の使用
- **非推奨**: 日本語のメソッド名や特殊文字の使用
- **禁止**: 波括弧 {} を直接使用
- **禁止**: パイプ | を型定義で使用
- **禁止**: 疑問符 ? をオプショナル表記で使用
- **禁止**: 型定義でコロン `:` を使用
  - (`+property: string` → `+property string`)

### フローチャート（flowchart）の記法ルール

mermaidフローチャートを記述する際の確認項目：

1. **ノードラベルは必ずダブルクォート（`""`）で囲む**
   - ❌ 悪い例: `A[データベーススキーマ変更]`
   - ✅ 良い例: `A["データベーススキーマ変更"]`

2. **特殊文字を含むラベルは必ずクォートで囲む**
   - 特殊文字の例: `@`, `/`, `-`, `.`, `:`, `(`, `)`, `{`, `}`, `[`, `]`
   - ❌ 悪い例: `D[@hono/zod-openapi]`
   - ✅ 良い例: `D["@hono/zod-openapi"]`

3. **リンクラベル（エッジのテキスト）もクォートで囲む**
   - ❌ 悪い例: `A -->|失敗| B`
   - ✅ 良い例: `A -->|"失敗"| B`

4. **改行タグ `<br/>` は問題ない**
   - `A["データベーススキーマ変更<br/>Drizzle ORM schema.ts"]` は正常に動作

5. **すべてのノードラベルを統一的にクォートで囲む**
   - 一部だけクォートすると可読性が低下するため、すべてクォートで統一

これらのルールに従うことで、mermaidフローチャートのパースエラーを防ぐことができ、適切な図を作成できます。

### シーケンス図（sequenceDiagram）の注意点

- シーケンス図では参加者名（`participant`）やノート内のテキストに特殊文字があっても問題ない
- ただし、一貫性のため可能な限りクォートを使用することを推奨
- **参加者名にmermaidの予約語を使用しない**
  - 予約語の例: `Title`, `title`, `Note`, `note`, `end`, `loop`, `alt`, `else`, `opt`, `par`, `rect`, `activate`, `deactivate`
  - ❌ 悪い例: `participant Title as TaskTitle`
  - ✅ 良い例: `participant TT as TaskTitle`
- **参加者名は短縮形（2-3文字の略称）を推奨**
  - ❌ 悪い例: `participant Entity as TaskEntity`
  - ✅ 良い例: `participant TE as TaskEntity`
