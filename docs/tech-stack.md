# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å®šç¾©

## ğŸ”§ ç”Ÿæˆæƒ…å ±

- **ç”Ÿæˆæ—¥**: 2025-11-05
- **ç”Ÿæˆãƒ„ãƒ¼ãƒ«**: tsumiki:init-tech-stack
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—**: ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆWeb + APIï¼‰
- **ãƒãƒ¼ãƒ è¦æ¨¡**: å€‹äººé–‹ç™º
- **é–‹ç™ºæœŸé–“**: ä¸­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ6ãƒ¶æœˆï¼‰

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦ä»¶ã‚µãƒãƒªãƒ¼

- **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ é€£æº**: æ–°è¦æ§‹ç¯‰ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…å®Œçµï¼‰
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: è»½è² è·ï¼ˆåŒæ™‚åˆ©ç”¨è€…æ•°10äººä»¥ä¸‹ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“3ç§’ä»¥å†…ï¼‰
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: åŸºæœ¬çš„ãªWebã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–
- **æŠ€è¡“ã‚¹ã‚­ãƒ«**: TypeScriptã€Reactã€AWS/GCPçµŒé¨“ã‚ã‚Š
- **å­¦ç¿’ã‚³ã‚¹ãƒˆè¨±å®¹åº¦**: ç©æ¥µçš„ã«æ–°æŠ€è¡“ã‚’å°å…¥
- **ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**: CloudFlare Pagesï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰ã€AWS Lambdaï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰
- **äºˆç®—**: ã‚³ã‚¹ãƒˆæœ€å°åŒ–ï¼ˆç¾å®Ÿçš„ãªç¯„å›²ã§ç„¡ç†ã®ãªã„é‹ç”¨ï¼‰

## ğŸš€ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

### ã‚³ã‚¢æŠ€è¡“

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Next.js 15.4.6
- **ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**: SSGï¼ˆStatic Site Generationï¼‰
- **è¨€èª**: TypeScript 5
- **UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: React 19.1.0
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS 4
- **çŠ¶æ…‹ç®¡ç†**:
  - Redux Toolkit 2.8.2ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ï¼‰
  - TanStack React Query 5.84.2ï¼ˆã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ï¼‰

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: Bun
- **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **: Bunï¼ˆé–‹ç™ºç’°å¢ƒï¼‰
- **ãƒªãƒ³ã‚¿ãƒ¼/ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼**: Biome 2.1.4
- **å‹ãƒã‚§ãƒƒã‚¯**: TypeScript Compilerï¼ˆstrict modeï¼‰

### APIé€£æº

- **HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**: openapi-fetch 0.15.0
- **å‹ç”Ÿæˆ**: openapi-typescript 7.10.1
- **èªè¨¼**: Supabase JS 2.56.0ï¼ˆèªè¨¼SDKï¼‰
- **JWTå‡¦ç†**: jose 6.1.0

### ãƒ†ã‚¹ãƒˆ

- **ãƒ¦ãƒ‹ãƒƒãƒˆ/çµ±åˆãƒ†ã‚¹ãƒˆ**: Bunæ¨™æº–ãƒ†ã‚¹ãƒˆï¼ˆ`bun test`ï¼‰
- **ãƒ†ã‚¹ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª**:
  - @testing-library/react 16.3.0
  - @testing-library/user-event 14.6.1
  - @testing-library/jest-dom 6.8.0
- **E2Eãƒ†ã‚¹ãƒˆ**: Playwright 1.55.0
- **DOMç’°å¢ƒ**: jsdom 26.1.0

### é¸æŠç†ç”±

- **Next.js 15 SSG**: CloudFlare Pagesã¸ã®æœ€é©åŒ–ã€é«˜é€Ÿãªé™çš„ã‚µã‚¤ãƒˆç”Ÿæˆ
- **React 19**: æœ€æ–°æ©Ÿèƒ½ï¼ˆServer Actionsç­‰ï¼‰ã®æ´»ç”¨ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- **TypeScript strict**: å‹å®‰å…¨æ€§ã®æœ€å¤§åŒ–ã€ãƒã‚°ã®æ—©æœŸç™ºè¦‹
- **Tailwind CSS 4**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€é«˜é€Ÿãªé–‹ç™ºä½“é¨“
- **Redux Toolkit + React Query**: ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã¨ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ã®è²¬ä»»åˆ†é›¢
- **Bun**: é«˜é€Ÿãªãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€Node.jsã®å®Œå…¨äº’æ›
- **Biome**: Rustãƒ™ãƒ¼ã‚¹ã€ESLint+Prettierã‚ˆã‚Šé«˜é€Ÿ
- **Playwright**: ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œã€ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã«ã‚ˆã‚‹å¼·åŠ›ãªãƒ‡ãƒãƒƒã‚°

## âš™ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

### ã‚³ã‚¢æŠ€è¡“

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Hono 4.9.0
- **è¨€èª**: TypeScript 5.9.2
- **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **:
  - Bunï¼ˆé–‹ç™ºç’°å¢ƒï¼‰
  - Node.js 22.xï¼ˆæœ¬ç•ªç’°å¢ƒ AWS Lambdaï¼‰
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL 15ï¼ˆAlpine Linuxï¼‰
- **ORM**: Drizzle ORM 0.44.4
- **ã‚¹ã‚­ãƒ¼ãƒç®¡ç†**: Drizzle Kit 0.31.4

### APIè¨­è¨ˆ

- **ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Zod 4.1.12
- **OpenAPIç”Ÿæˆ**: @hono/zod-openapi 1.1.3
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: Swagger UI 5.29.5

### èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼**: Supabase Auth
- **JWTå‡¦ç†**: jose 6.1.0ï¼ˆJWKSèªè¨¼ï¼‰
- **ç’°å¢ƒå¤‰æ•°ç®¡ç†**: Docker Composeç’°å¢ƒå¤‰æ•°

### æœ¬ç•ªç’°å¢ƒ

- **ãƒ‡ãƒ—ãƒ­ã‚¤**: AWS Lambdaï¼ˆã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ï¼‰
- **ãƒ“ãƒ«ãƒ‰**: esbuild 0.25.9ï¼ˆminify + bundleï¼‰
- **Node.jsäº’æ›**: @hono/node-server 1.14.0

### é¸æŠç†ç”±

- **Hono**: è»½é‡ï¼ˆAWS Lambdaæœ€é©åŒ–ï¼‰ã€TypeScriptå®Œå…¨å¯¾å¿œã€Zodãƒã‚¤ãƒ†ã‚£ãƒ–çµ±åˆ
- **Buné–‹ç™º + Node.jsæœ¬ç•ª**: é–‹ç™ºä½“é¨“ã¨æœ¬ç•ªå®‰å®šæ€§ã®ãƒãƒ©ãƒ³ã‚¹
- **Drizzle ORM**: å‹å®‰å…¨ã€PostgreSQLæœ€é©åŒ–ã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†
- **Zod + OpenAPI**: ã‚¹ã‚­ãƒ¼ãƒé§†å‹•é–‹ç™ºã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‹å®šç¾©è‡ªå‹•ç”Ÿæˆ
- **Supabase Auth**: èªè¨¼åŸºç›¤ã®ã‚¢ã‚¦ãƒˆã‚½ãƒ¼ã‚¹ã€ã‚³ã‚¹ãƒˆå‰Šæ¸›
- **AWS Lambda**: ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã€å¾“é‡èª²é‡‘ã§ã‚³ã‚¹ãƒˆæœ€å°åŒ–

## ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

- **RDBMS**: PostgreSQL 15
- **æ¥ç¶šãƒ©ã‚¤ãƒ–ãƒ©ãƒª**:
  - postgres 3.4.7ï¼ˆé–‹ç™ºç”¨ã€è»½é‡ï¼‰
  - pg 8.12.0ï¼ˆæœ¬ç•ªç”¨ã€å®‰å®šæ€§é‡è¦–ï¼‰

### ã‚¹ã‚­ãƒ¼ãƒç®¡ç†

- **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: Drizzle Kit
- **ã‚¹ã‚­ãƒ¼ãƒå®šç¾©**: `app/server/src/infrastructure/database/schema.ts`
- **ç’°å¢ƒåˆ†é›¢**:
  - é–‹ç™º: `app_test` schemaï¼ˆDocker Composeå†…PostgreSQLï¼‰
  - æœ¬ç•ª: AWS RDS PostgreSQL or Supabase Database

### è¨­è¨ˆæ–¹é‡

- **Single Source of Truth**: Drizzle ORMã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ™ãƒ¼ã‚¹ã«å…¨ã¦ç”Ÿæˆ
- **ã‚¹ã‚­ãƒ¼ãƒé§†å‹•é–‹ç™º**: DBå¤‰æ›´ â†’ Zodã‚¹ã‚­ãƒ¼ãƒç”Ÿæˆ â†’ OpenAPIç”Ÿæˆ â†’ å‹å®šç¾©ç”Ÿæˆ
- **ACIDæº–æ‹ **: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ•´åˆæ€§ã®ç¢ºä¿
- **é©åˆ‡ãªæ­£è¦åŒ–**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®ãƒãƒ©ãƒ³ã‚¹

## ğŸ”„ ã‚¹ã‚­ãƒ¼ãƒé§†å‹•é–‹ç™ºãƒ•ãƒ­ãƒ¼

```mermaid
flowchart LR
    A["ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´<br/>Drizzle ORM schema.ts"] --> B["Zodã‚¹ã‚­ãƒ¼ãƒç”Ÿæˆ<br/>bun run generate:schemas"]
    B --> C["OpenAPIä»•æ§˜ç”Ÿæˆ<br/>bun run generate:openapi"]
    C --> D["TypeScriptå‹å®šç¾©ç”Ÿæˆ<br/>bun run generate:types"]
    D --> E["å‹ãƒã‚§ãƒƒã‚¯<br/>bun run typecheck"]
    E -->|"æˆåŠŸ"| F["é–‹ç™ºå®Œäº†"]
    E -->|"å¤±æ•—"| A
```

### ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

```bash
# 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´å¾Œ
docker compose exec server bun run generate:schemas

# 2. OpenAPIä»•æ§˜ç”Ÿæˆ
docker compose exec server bun run generate:openapi

# 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‹å®šç¾©ç”Ÿæˆ
docker compose exec client bun run generate:types

# 4. å‹ãƒã‚§ãƒƒã‚¯
docker compose exec server bun run typecheck
docker compose exec client bun run typecheck
```

### æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ æ‰‹é †

1. `app/server/src/infrastructure/database/schema.ts` ã«ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã‚’è¿½åŠ 
2. `app/server/scripts/generate-schemas.ts` ã® `tableConfigs` é…åˆ—ã«è¨­å®šã‚’è¿½åŠ 
3. ã‚¹ã‚­ãƒ¼ãƒç”Ÿæˆã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼ˆä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§å‚ç…§ï¼‰

## ğŸ› ï¸ é–‹ç™ºç’°å¢ƒ

### ã‚³ãƒ³ãƒ†ãƒŠæ§‹æˆ

- **ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: Docker Compose
- **ã‚³ãƒ³ãƒ†ãƒŠä¸€è¦§**:
  - `server`: Honoãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆBunï¼‰
  - `client`: Next.jsãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆBunï¼‰
  - `db`: PostgreSQL 15ï¼ˆAlpineï¼‰
  - `e2e`: Playwright E2Eãƒ†ã‚¹ãƒˆ
  - `iac`: Terraformã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†
  - `semgrep`: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é™çš„è§£æ

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: Bunï¼ˆãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯å…±é€šï¼‰
- **ãƒªãƒ³ã‚¿ãƒ¼/ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼**: Biome 2.1.4
- **å‹ãƒã‚§ãƒƒã‚¯**: TypeScript 5
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: Semgrep 1.96.0
- **IaC**: Terraformï¼ˆ`iac`ã‚³ãƒ³ãƒ†ãƒŠï¼‰

### ç’°å¢ƒå¤‰æ•°ç®¡ç†

- **é–‹ç™ºç’°å¢ƒ**: `.env` ãƒ•ã‚¡ã‚¤ãƒ« + Docker Composeç’°å¢ƒå¤‰æ•°
- **æœ¬ç•ªç’°å¢ƒ**: Terraformå¤‰æ•° + AWS Secrets Manager / CloudFlareç’°å¢ƒå¤‰æ•°

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

#### ãƒ¦ãƒ‹ãƒƒãƒˆ/çµ±åˆãƒ†ã‚¹ãƒˆ

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Bunæ¨™æº–ãƒ†ã‚¹ãƒˆ
- **å®Ÿè¡Œ**: `docker compose exec client bun test`
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: 80%ä»¥ä¸Š
- **æ–¹é‡**:
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸­å¿ƒã®ã‚¯ã‚¨ãƒªä½¿ç”¨ï¼ˆ`getByRole` > `getByLabelText` > `getByText`ï¼‰
  - `user-event`ã‚’æ¨™æº–ï¼ˆ`fireEvent`ç¦æ­¢ï¼‰
  - ä¾å­˜æ³¨å…¥ã«ã‚ˆã‚‹ãƒ¢ãƒƒã‚¯
  - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åã¯æ—¥æœ¬èª

#### E2Eãƒ†ã‚¹ãƒˆ

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Playwright 1.55.0
- **å®Ÿè¡Œ**: `docker compose exec e2e npx playwright test`
- **æ–¹é‡**:
  - `storageState` APIã§èªè¨¼çŠ¶æ…‹ç®¡ç†
  - Locatorsã®å„ªå…ˆåˆ©ç”¨ï¼ˆè‡ªå‹•å¾…æ©Ÿï¼‰
  - Web First Assertionsï¼ˆè‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ï¼‰
  - Trace Viewerã«ã‚ˆã‚‹ãƒ‡ãƒãƒƒã‚°

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

#### ãƒ¦ãƒ‹ãƒƒãƒˆ/çµ±åˆãƒ†ã‚¹ãƒˆ

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Bunæ¨™æº–ãƒ†ã‚¹ãƒˆ
- **å®Ÿè¡Œ**: `docker compose exec server bun test`
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: 80%ä»¥ä¸Š
- **æ–¹é‡**:
  - ä¾å­˜æ³¨å…¥ã«ã‚ˆã‚‹ãƒ¢ãƒƒã‚¯
  - å¤–éƒ¨ä¾å­˜ï¼ˆDBã€APIï¼‰ã®ãƒ¢ãƒƒã‚¯åŒ–
  - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åã¯æ—¥æœ¬èª

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

- **ãƒ„ãƒ¼ãƒ«**: Semgrep 1.96.0
- **å®Ÿè¡Œ**: `docker compose run --rm semgrep semgrep scan --config=auto`
- **å¯¾è±¡**: OWASP Top 10è„†å¼±æ€§ã®æ¤œå‡º

## â˜ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: CloudFlare Pages
- **ãƒ“ãƒ«ãƒ‰**: Next.js SSGï¼ˆ`next build`ï¼‰
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: Gité€£æºè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- **CDN**: CloudFlare CDNï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«é…ä¿¡ï¼‰
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³**: CloudFlare DNSç®¡ç†

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒˆ**: AWS Lambda
- **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **: Node.js 22.x
- **API Gateway**: AWS API Gatewayï¼ˆHTTP APIï¼‰
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: AWS RDS PostgreSQL or Supabase Postgres
- **IaC**: Terraform

### CI/CD

- **CI**: GitHub Actions
- **ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯**:
  - å‹ãƒã‚§ãƒƒã‚¯ï¼ˆ`tsc --noEmit`ï¼‰
  - Biomeãƒã‚§ãƒƒã‚¯ï¼ˆ`biome check`ï¼‰
  - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ`bun test`ï¼‰
  - Semgrepã‚¹ã‚­ãƒ£ãƒ³
- **ãƒ‡ãƒ—ãƒ­ã‚¤**:
  - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: CloudFlare Pagesè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
  - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: Terraform + AWS Lambda

### ã‚³ã‚¹ãƒˆæœ€é©åŒ–æ–¹é‡

- **ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹**: å¾“é‡èª²é‡‘ã§ã‚¢ã‚¤ãƒ‰ãƒ«æ™‚ã‚³ã‚¹ãƒˆ0
- **CloudFlare Pages**: ç„¡æ–™ãƒ—ãƒ©ãƒ³æ´»ç”¨ï¼ˆå¸¯åŸŸãƒ»ãƒ“ãƒ«ãƒ‰æ™‚é–“å†…ï¼‰
- **AWS Lambda**: ç„¡æ–™æ æ´»ç”¨ï¼ˆæœˆ100ä¸‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
- **Supabase**: ç„¡æ–™ãƒ—ãƒ©ãƒ³æ´»ç”¨ï¼ˆèªè¨¼ãƒ»DBï¼‰
- **é–‹ç™ºç’°å¢ƒ**: Docker Composeã§ãƒ­ãƒ¼ã‚«ãƒ«å®Œçµ

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### åŸºæœ¬æ–¹é‡

- **HTTPS**: å¿…é ˆï¼ˆCloudFlare + AWS Certificate Managerï¼‰
- **èªè¨¼**: Supabase Authï¼ˆJWT + JWKSï¼‰
- **CORS**: é©åˆ‡ãªOriginåˆ¶é™
- **ç’°å¢ƒå¤‰æ•°**: æ©Ÿå¯†æƒ…å ±ã®é©åˆ‡ãªç®¡ç†
- **ä¾å­˜é–¢ä¿‚**: å®šæœŸçš„ãªè„†å¼±æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆSemgrepï¼‰

### å®Ÿè£…æŒ‡é‡

- **å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Zodã«ã‚ˆã‚‹ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–**: Drizzle ORMã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã‚¯ã‚¨ãƒª
- **XSSå¯¾ç­–**: Reactã®è‡ªå‹•ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
- **CSRFå¯¾ç­–**: SameSite Cookieå±æ€§
- **JWTæ¤œè¨¼**: JWKSã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚ˆã‚‹ç½²åæ¤œè¨¼ï¼ˆSupabase JWT Secretéæ¨å¥¨ï¼‰

### ç¦æ­¢äº‹é …ï¼ˆCLAUDE.mdã‚ˆã‚Šï¼‰

- `z.string().uuid()`, `z.string().email()`ï¼ˆ`z.uuid()`, `z.email()`ã§ä»£ç”¨ï¼‰
- `@ts-ignore`ï¼ˆ`@ts-expect-error`ã§ä»£ç”¨ï¼‰
- `any`å‹ï¼ˆå‹ãŒå–å¾—ä¸èƒ½ãªå ´åˆã®ã¿ã€ç†ç”±ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰
- `var`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- Supabase JWT Secretèªè¨¼ï¼ˆJWKSã§ä»£ç”¨ï¼‰

## ğŸ“Š å“è³ªåŸºæº–

- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 80%ä»¥ä¸Š
- **å‹å®‰å…¨æ€§**: TypeScript strict mode
- **ã‚³ãƒ¼ãƒ‰å“è³ª**: Biomeãƒã‚§ãƒƒã‚¯åˆæ ¼
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: Semgrepã‚¹ã‚­ãƒ£ãƒ³åˆæ ¼
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:
  - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: Lighthouse 90+ç‚¹ï¼ˆç›®æ¨™ï¼‰
  - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“3ç§’ä»¥å†…
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AAæº–æ‹ ï¼ˆæ¨å¥¨ï¼‰

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
hoxt-backlog/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ client/                    # Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ features/         # feature-based ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __tests__/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ .../
â”‚   â”‚   â”‚   â”œâ”€â”€ lib/              # å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”‚   â”‚   â”œâ”€â”€ types/            # å‹å®šç¾©
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ generated.ts  # è‡ªå‹•ç”Ÿæˆ
â”‚   â”‚   â”‚   â””â”€â”€ test-setup.ts
â”‚   â”‚   â”œâ”€â”€ public/               # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ playwright.config.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ server/                    # Hono ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/           # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆDDDï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __tests__/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserEntity.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ errors/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ valueobjects/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ .../
â”‚   â”‚   â”‚   â”œâ”€â”€ application/      # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ usecases/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ __tests__/
â”‚   â”‚   â”‚   â”œâ”€â”€ infrastructure/   # ã‚¤ãƒ³ãƒ•ãƒ©å±¤
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ schema.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ __tests__/
â”‚   â”‚   â”‚   â”œâ”€â”€ presentation/     # ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ http/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ middleware/
â”‚   â”‚   â”‚   â”œâ”€â”€ entrypoints/      # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bun.serve.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ lambda.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ node.serve.ts
â”‚   â”‚   â”‚   â””â”€â”€ shared/           # å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ scripts/              # ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ generate-schemas.ts
â”‚   â”‚   â”‚   â””â”€â”€ generate-openapi.ts
â”‚   â”‚   â”œâ”€â”€ dist/                 # ãƒ“ãƒ«ãƒ‰æˆæœç‰©ï¼ˆLambdaç”¨ï¼‰
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ packages/
â”‚       â””â”€â”€ shared-schemas/       # ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯å…±æœ‰ã‚¹ã‚­ãƒ¼ãƒ
â”‚           â”œâ”€â”€ __tests__/
â”‚           â”œâ”€â”€ users.ts          # è‡ªå‹•ç”Ÿæˆ
â”‚           â””â”€â”€ .../
â”‚
â”œâ”€â”€ docker/                       # Dockerfiles
â”‚   â”œâ”€â”€ client/
â”‚   â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ db/
â”‚   â””â”€â”€ terraform/
â”‚
â”œâ”€â”€ terraform/                    # IaCå®šç¾©
â”‚   â”œâ”€â”€ main.tf
â”‚   â”œâ”€â”€ variables.tf
â”‚   â””â”€â”€ .../
â”‚
â”œâ”€â”€ docs/                         # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ openapi.yaml         # è‡ªå‹•ç”Ÿæˆ
â”‚   â”œâ”€â”€ design/
â”‚   â”œâ”€â”€ spec/
â”‚   â”œâ”€â”€ tasks/
â”‚   â””â”€â”€ tech-stack.md            # æœ¬ãƒ•ã‚¡ã‚¤ãƒ«
â”‚
â”œâ”€â”€ compose.yaml                  # Docker Composeè¨­å®š
â”œâ”€â”€ CLAUDE.md                     # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
â””â”€â”€ README.md
```

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ç’°å¢ƒæº–å‚™

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd hoxt-backlog

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ï¼ˆSupabase URLã€èªè¨¼æƒ…å ±ç­‰ï¼‰

# Dockerç’°å¢ƒèµ·å‹•
docker compose up -d
```

### 2. åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
docker compose exec server bun run db:setup

# ã‚¹ã‚­ãƒ¼ãƒç”Ÿæˆï¼ˆåˆå›å¿…é ˆï¼‰
docker compose exec server bun run generate:schemas
docker compose exec server bun run generate:openapi
docker compose exec client bun run generate:types
```

### 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# ã™ã¹ã¦èµ·å‹•æ¸ˆã¿ï¼ˆdocker compose up -dã§è‡ªå‹•èµ·å‹•ï¼‰
```

### 4. ä¸»è¦ã‚³ãƒãƒ³ãƒ‰

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆè‡ªå‹•èµ·å‹•æ¸ˆã¿ï¼‰
docker compose exec client bun run dev

# ãƒ“ãƒ«ãƒ‰
docker compose exec client bun run build

# ãƒ†ã‚¹ãƒˆ
docker compose exec client bun test
docker compose exec e2e npx playwright test

# å‹ãƒã‚§ãƒƒã‚¯
docker compose exec client bun run typecheck

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
docker compose exec client bun run check
docker compose exec client bun run fix
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆè‡ªå‹•èµ·å‹•æ¸ˆã¿ï¼‰
docker compose exec server bun run dev

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰ï¼ˆLambdaç”¨ï¼‰
docker compose exec server bun run build:lambda

# ãƒ†ã‚¹ãƒˆ
docker compose exec server bun test

# å‹ãƒã‚§ãƒƒã‚¯
docker compose exec server bun run typecheck

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
docker compose exec server bun run check
docker compose exec server bun run fix

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
docker compose exec server bun run db:push
```

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯

```bash
# Semgrepã‚¹ã‚­ãƒ£ãƒ³
docker compose run --rm semgrep semgrep scan --config=auto
```

## ğŸ”„ ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ãƒ•ãƒ­ãƒ¼

```bash
# 1. Drizzleã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´
vim app/server/src/infrastructure/database/schema.ts

# 2. ãƒ†ãƒ¼ãƒ–ãƒ«è¨­å®šè¿½åŠ ï¼ˆæ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ã®å ´åˆï¼‰
vim app/server/scripts/generate-schemas.ts

# 3. ã‚¹ã‚­ãƒ¼ãƒç”Ÿæˆ
docker compose exec server bun run generate:schemas

# 4. OpenAPIç”Ÿæˆ
docker compose exec server bun run generate:openapi

# 5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‹å®šç¾©ç”Ÿæˆ
docker compose exec client bun run generate:types

# 6. å‹ãƒã‚§ãƒƒã‚¯
docker compose exec server bun run typecheck
docker compose exec client bun run typecheck

# 7. ãƒ†ã‚¹ãƒˆ
docker compose exec server bun test
docker compose exec client bun test
```

## ğŸ“ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²è¡Œã«å¿œã˜ã¦æ›´æ–°ã—ã¦ãã ã•ã„ï¼š

1. **æŠ€è¡“ã®è¿½åŠ **: æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ãŸéš›ã¯è©²å½“ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¨˜è¼‰
2. **è¦ä»¶ã®å¤‰æ›´**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ãŒå¤‰ã‚ã£ãŸã‚‰æ›´æ–°
3. **ã‚¤ãƒ³ãƒ•ãƒ©ã®å¤‰æ›´**: ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆãƒ»ã‚¹ã‚±ãƒ¼ãƒ«è¦ä»¶ãŒå¤‰ã‚ã£ãŸã‚‰æ›´æ–°
4. **ãƒãƒ¼ãƒ å¤‰æ›´**: ãƒ¡ãƒ³ãƒãƒ¼å¢—æ¸›ã«å¿œã˜ãŸæŠ€è¡“é¸æŠã®è¦‹ç›´ã—

### æ›´æ–°æ™‚ã®æ³¨æ„äº‹é …

- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±**: `package.json`ã¨æ•´åˆæ€§ã‚’ä¿ã¤
- **ã‚³ãƒãƒ³ãƒ‰**: å®Ÿéš›ã®`package.json`ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ä¸€è‡´ã•ã›ã‚‹
- **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ **: å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã¨åŒæœŸ
- **ã‚¹ã‚­ãƒ¼ãƒç”Ÿæˆãƒ•ãƒ­ãƒ¼**: `CLAUDE.md`ã®è¨˜è¼‰ã¨æ•´åˆæ€§ã‚’ä¿ã¤

## ğŸ”„ æ›´æ–°å±¥æ­´

- **2025-11-05**: åˆå›ç”Ÿæˆï¼ˆtsumiki:init-tech-stackã«ã‚ˆã‚Šè‡ªå‹•ç”Ÿæˆï¼‰
